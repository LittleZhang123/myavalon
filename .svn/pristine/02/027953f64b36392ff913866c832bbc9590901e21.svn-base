<!DOCTYPE HTML>
<html id="html">
<head>
    <meta charset="utf-8">
    <title>测试用例</title>
    <script src="avalon.js"></script>
</head>
<body>
<div ms-controller="test">
    <div ms-with="obj">
        <div>{{$val.num}}</div>
    </div>
</div>


<script>


    var model = avalon.define("test", function (vm) {
        vm.obj = {
            a1: {num: 1111}
        }
    });
    setTimeout(function () {
        model.obj = {
            a1: {num: 2222}, a2: {num: 3333}
        }
        setTimeout(function () {
            model.obj.a1.num = 4444
            model.obj.a2.num = 5555

            setTimeout(function () {
                model.obj.a1.num = 6666
                model.obj.a2.num = 7777
            }, 2000)


        }, 2000)

    }, 2000)
</script>
</body>
</html>